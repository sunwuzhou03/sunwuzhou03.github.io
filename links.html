<!DOCTYPE html>
<html>

<head>
    <title>links</title>
    <style>
        .link-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .link-item img {
            width: 50px;
            height: 50px;
            margin-right: 10px;
        }
    </style>
</head>

<body>
    <h1>links</h1>
    <div id="links-container"></div>

    <script>
        // 定义友情链接的数据
        const links = [
            "https://xhhdd.cc/",
            "https://blog.wangzixi.top/",
            "https://septemus.github.io/"
        ];

        // 获取容器元素
        const container = document.getElementById('links-container');

        // 动态创建友情链接
        links.forEach((link) => {
            fetch(link)
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const title = doc.querySelector('title') ? doc.querySelector('title').textContent.trim() : 'No Title';
                    let imageSrc = doc.querySelector('link[rel="icon"]') ? doc.querySelector('link[rel="icon"]').getAttribute('href') : 'default-image.jpg';
                    if (!imageSrc.startsWith('http')) {
                        // 如果图标链接不是绝对路径，则转换为绝对路径
                        imageSrc = new URL(imageSrc, link).href;
                    }

                    const div = document.createElement('div');
                    div.className = 'link-item';
                    div.innerHTML = `
                        <img src="${imageSrc}" alt="${title}">
                        <a href="${link}" target="_blank">${title}</a>
                    `;
                    container.appendChild(div);
                })
                .catch(error => {
                    console.error('Error fetching link:', error);
                    const div = document.createElement('div');
                    div.className = 'link-item';
                    div.innerHTML = `
                        <img src="default-image.jpg" alt="网站图片">
                        <a href="${link}" target="_blank">网站名称不可用</a>
                    `;
                    container.appendChild(div);
                });
        });
    </script>
</body>

</html>